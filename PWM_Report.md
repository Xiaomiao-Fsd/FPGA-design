# 基于 FPGA 的 LED 阵列显示项目中期报告

## 一、项目概述

### 1.1 项目背景

在 LED 显示技术快速迭代的当下，FPGA 凭借其灵活可编程与高效并行处理特性，成为 LED 显示控制的核心选择。本项目致力于基于 FPGA 实现 8x8 三色 RGB 显示阵列的精准控制，通过上位机传输显示信息，打造多样化显示效果，为后续复杂应用筑牢根基。

### 1.2 项目目标

项目核心在于完成上位机与 FPGA 通信链路搭建，实现数据传输与 LED 阵列显示控制。中期阶段聚焦 PWM 调光功能开发与测试，为实现丰富显示效果提供关键支撑。

## 二、系统设计

### 2.1 上位机通信设计

选用电脑作为上位机，初步确定采用 [具体通信协议名称，如串口通信协议等] 传输显示数据。该协议可将信息打包发送至 FPGA，FPGA 解析后控制 LED 显示，同时通过校验位保障数据传输准确性。

### 2.2 FPGA 功能设计

FPGA 作为控制核心，负责接收数据并驱动 8x8 三色 RGB 显示阵列。通过控制列引脚与 RGB 行引脚电平，实现不同颜色和亮度显示，目前已完成基础引脚驱动。

## 三、PWM 调光功能实现 —— 核心阶段性成果

### 3.1 key3 行模式灰度效果

基于 key3 行模式的灰度效果实现，是本次中期成果的重要突破。PWM 调光的核心原理在于，通过调整 LED 的通断时间比例，改变其平均亮度，进而实现灰度显示。在实际操作中，我们精心编写 FPGA 程序，对 LED 阵列的 1 - 4 行设置了差异化的 PWM 占空比。

为达到理想灰度效果，我们进行了多轮参数调试与优化。最初，由于占空比设置不合理，灰度层次区分不明显。经过反复测试，我们确定了从 0% 到 100%，以 10% 为梯度递增的占空比序列，分别对应 1 - 4 行。最终，成功使每行亮度呈现出清晰的灰度级别。

![LED_ROW](https://github.com/Xiaomiao-Fsd/FPGA-design/blob/main/Code%20and%20page/PWM_Report/PWM1.jpg)

 从图片中可以直观地看到，不同行之间的亮度过渡自然，灰度效果显著，完全满足设计预期。

### 3.2 第六行 PWM 调色控制

第六行的 PWM 调色控制功能的实现，充分展现了 PWM 调光技术的多样性。通过分别精准调节 RGB 三个颜色通道的 PWM 占空比，能够实现丰富的色彩变化。在实际调试过程中，我们建立了详细的占空比与颜色对应关系表。例如，当红色通道占空比为 80%，绿色通道占空比为 20%，蓝色通道占空比为 10% 时，LED 呈现出鲜明的橙红色；当红色通道占空比为 30%，绿色通道占空比为 70%，蓝色通道占空比为 20% 时，LED 则显示出清新的草绿色。

为验证调色控制的准确性和稳定性，我们进行了大量测试。通过改变 RGB 通道的占空比组合，成功实现了从暖色调到冷色调，从原色到间色的广泛色域覆盖。

![LED_PWM1](https://github.com/Xiaomiao-Fsd/FPGA-design/blob/main/Code%20and%20page/PWM_Report/PWM2.jpg)

图片中，第六行 LED 呈现出五彩斑斓的颜色，充分证明了 PWM 调色控制功能的有效性和可靠性。

### 3.3 key2 和 3 组合的 PWM 呼吸灯模式

当同时按下 key2 和 key3 时，系统进入 PWM 呼吸灯模式，（6,3）处的 LED 展现出规律闪烁的呼吸灯效果。该模式的实现，依赖于对 PWM 占空比的动态调整。我们设定了一个周期性的占空比变化函数，使占空比在 0% - 100% 之间呈正弦曲线变化。在一个周期内，占空比先逐渐增大，LED 亮度随之逐渐增强；达到最大值后，占空比逐渐减小，LED 亮度也逐渐减弱，如此循环往复，完美模拟出呼吸的效果。

在调试过程中，我们对占空比变化的周期和速度进行了多次优化。最初，周期设置过短，呼吸效果不明显；周期过长，则闪烁节奏不协调。经过反复尝试，我们确定了 0.5 秒的最佳周期，使呼吸灯效果自然流畅。

![LED_PWM2](https://github.com/Xiaomiao-Fsd/FPGA-design/blob/main/Code%20and%20page/PWM_Report/PWM3.jpg)

![LED_PWM3](https://github.com/Xiaomiao-Fsd/FPGA-design/blob/main/Code%20and%20page/PWM_Report/ROW.jpg)

从图片中可以清晰观察到，（6,3）处的 LED 亮度呈现出平滑的渐变过程，呼吸灯效果生动逼真，达到了预期设计目标。

## 四、总结与展望

### 4.1 中期成果总结

项目中期成功攻克 PWM 调光功能，实现 key3 行模式灰度效果、第六行 PWM 调色控制以及 key2 和 3 组合的 PWM 呼吸灯模式三大核心功能，并通过大量测试与优化确保功能稳定可靠。同时，完成上位机与 FPGA 通信初步设计及 FPGA 对 LED 阵列的基础控制，为项目后续推进奠定坚实基础。

### 4.2 后续工作计划

后续将深度优化上位机与 FPGA 通信协议，提升数据传输效率与稳定性。进一步拓展 FPGA 对 LED 阵列的控制功能，实现文字、图形等复杂显示效果。全面开展系统测试与优化，保障项目稳定运行，向最终目标全力迈进。

以上报告着重凸显了 PWM 调光的阶段性成果。若你还想对内容进一步修改，比如增减技术细节，欢迎随时告知。